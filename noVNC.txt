Baik. Kita fokus **tujuan akhirnya jelas**:
**setiap Raspberry Pi 3 selesai boot → VNC + noVNC (websockify) otomatis jalan → bisa langsung diakses via browser tanpa perintah manual.**

Di bawah ini saya rangkum **versi rapi, production-ready**, dan **sejalan dengan tutorial Maple Systems** yang kamu lampirkan, tetapi disesuaikan untuk **auto-start saat boot**.

---

## 1. Arsitektur yang Perlu Dipahami (Penting)

Sebelum masuk teknis, luruskan dulu alurnya:

```
Boot Raspberry Pi
 ├─ systemd start VNC Server (desktop)
 └─ systemd start noVNC + websockify
        └─ expose VNC via WebSocket (port 6080)
             └─ browser akses http://IP:6080
```

Artinya **ada 2 komponen utama**:

1. **VNC Server** (RealVNC / TightVNC / TigerVNC)
2. **noVNC + websockify** (web proxy)

---

## 2. Pastikan VNC Server Auto-Start (WAJIB)

### 2.1 Aktifkan VNC bawaan Raspberry Pi

```bash
sudo raspi-config
```

Masuk:

```
Interface Options → VNC → Enable
```

Verifikasi:

```bash
systemctl status vncserver-x11-serviced
```

Harusnya:

```
Active: active (running)
```

Catatan penting:

* **RealVNC bawaan Pi sudah auto-start by default**
* Tidak perlu bikin service tambahan untuk VNC

---

## 3. Install noVNC + websockify

Ikuti pendekatan Maple Systems (valid dan aman):

```bash
sudo apt update
sudo apt install -y novnc websockify
```

Lokasi default:

```
/usr/share/novnc
```

Test manual dulu (sekali saja):

```bash
websockify --web=/usr/share/novnc/ 6080 localhost:5900
```

Buka browser:

```
http://IP_RASPBERRY:6080
```

Kalau berhasil → lanjut ke auto-start.

---

## 4. Membuat systemd Service untuk noVNC (INTI SOLUSI)

Ini bagian terpenting agar **otomatis jalan saat boot**.

---

### 4.1 Buat file service

```bash
sudo nano /etc/systemd/system/novnc.service
```

Isi **FULL & AMAN** seperti ini:

```ini
[Unit]
Description=noVNC WebSocket Proxy
After=network.target vncserver-x11-serviced.service
Requires=vncserver-x11-serviced.service

[Service]
Type=simple
User=pi
WorkingDirectory=/usr/share/novnc
ExecStart=/usr/bin/websockify \
  --web=/usr/share/novnc/ \
  --wrap-mode=ignore \
  6080 localhost:5900
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
```

**Penjelasan kritis (biar kamu paham, bukan sekadar copy):**

| Baris                | Fungsi                      |
| -------------------- | --------------------------- |
| After=network.target | Tunggu network siap         |
| Requires=VNC service | Pastikan VNC hidup dulu     |
| User=pi              | Jalan sebagai user desktop  |
| WorkingDirectory     | Path static noVNC           |
| ExecStart            | Websockify expose port 6080 |
| Restart=always       | Auto-recover kalau crash    |

---

### 4.2 Enable service (sekali saja)

```bash
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl enable novnc.service
sudo systemctl start novnc.service
```

Cek status:

```bash
systemctl status novnc.service
```

Harusnya:

```
Active: active (running)
```

---

## 5. Test Reboot (Validasi Akhir)

```bash
sudo reboot
```

Setelah ±30–60 detik:

Buka di laptop/PC:

```
http://IP_RASPBERRY:6080
```

✔ Tanpa login SSH
✔ Tanpa jalankan command
✔ Langsung desktop Raspberry Pi

---

## 6. Port & Security (Opsional tapi Direkomendasikan)

### 6.1 Ganti port (kalau mau)

Misal:

```ini
6081 localhost:5900
```

### 6.2 Bind ke IP lokal saja (lebih aman)

```ini
ExecStart=/usr/bin/websockify \
  --web=/usr/share/novnc/ \
  127.0.0.1:6080 localhost:5900
```

Lalu expose via Nginx reverse proxy (kalau production).

---

## 7. Checklist Akhir (Bisa Kamu Masukkan ke Laporan Magang)

* [x] VNC server auto-start via system service
* [x] noVNC berjalan sebagai systemd service
* [x] Akses remote via browser tanpa konfigurasi manual
* [x] Mendukung remote debugging & deployment Raspberry Pi
* [x] Cocok untuk headless device & embedded development

Kalau kamu mau, **next step yang bisa kita lakukan**:

1. noVNC **full screen auto-connect**
2. Autologin desktop Raspberry Pi
3. Kunci ke satu aplikasi (kiosk-mode untuk ECBTest)
4. Integrasi langsung ke **Fyne / Wails app startup**

Tinggal bilang mau lanjut ke arah mana.
