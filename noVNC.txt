Oke, konteksmu **jelas dan sangat masuk akal untuk environment Raspberry Pi produksi** üëç
Targetmu adalah:

> **Setiap Raspberry Pi baru boot ‚Üí VNC + noVNC (websockify) langsung jalan otomatis tanpa perlu manual command.**

Tutorial yang kamu kirim (Maple Systems) **sudah benar secara konsep**, tapi memang **belum ‚Äúproduction-ready‚Äù kalau tidak dilengkapi systemd autostart**. Di bawah ini aku susun **versi rapi, aman, dan stabil** khusus untuk kebutuhanmu.

---

## Arsitektur yang Kita Tuju (PENTING)

Sebelum masuk langkah, samakan mental model dulu:

```
[Boot Raspberry Pi]
        ‚Üì
[systemd]
        ‚Üì
[VNC Server (RealVNC / TightVNC)]
        ‚Üì
[websockify + noVNC]
        ‚Üì
[Browser: http://IP:6080]
```

**Artinya:**

* VNC **HARUS hidup dulu**
* Baru noVNC (websockify) jadi proxy ke browser

---

## STEP 1 ‚Äî Pastikan VNC Server Auto-Start (WAJIB)

### Cek status VNC

```bash
systemctl status vncserver-x11-serviced
```

Kalau belum aktif:

```bash
sudo systemctl enable vncserver-x11-serviced
sudo systemctl start vncserver-x11-serviced
```

Atau via GUI:

```bash
sudo raspi-config
Interface Options ‚Üí VNC ‚Üí Enable
```

---

## STEP 2 ‚Äî Install noVNC + websockify (sekali saja)

Ikuti versi **stabil** (hindari clone random):

```bash
sudo apt update
sudo apt install -y novnc websockify
```

Lokasi default:

```
/usr/share/novnc
```

Cek manual dulu:

```bash
websockify --version
```

---

## STEP 3 ‚Äî Test Manual (sekali saja, VALIDASI)

Sebelum bikin auto-start, **pastikan ini jalan manual**:

```bash
websockify \
  --web=/usr/share/novnc/ \
  6080 localhost:5900
```

Lalu buka browser:

```
http://IP_RASPBERRY:6080
```

Kalau ini **sukses**, baru lanjut.

---

## STEP 4 ‚Äî Buat systemd Service (INI KUNCI UTAMA)

### Buat file service

```bash
sudo nano /etc/systemd/system/novnc.service
```

### ISI FILE (PAKAI INI)

```ini
[Unit]
Description=noVNC Web Interface
After=network.target vncserver-x11-serviced.service
Wants=vncserver-x11-serviced.service

[Service]
Type=simple
User=pi
ExecStart=/usr/bin/websockify \
  --web=/usr/share/novnc/ \
  6080 localhost:5900
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
```

**Penjelasan singkat (penting):**

* `After=` ‚Üí pastikan network + VNC sudah hidup
* `Restart=always` ‚Üí kalau crash, auto hidup lagi
* `User=pi` ‚Üí aman, tidak pakai root

---

## STEP 5 ‚Äî Aktifkan Auto-Start

```bash
sudo systemctl daemon-reexec
sudo systemctl daemon-reload
sudo systemctl enable novnc.service
sudo systemctl start novnc.service
```

Cek status:

```bash
systemctl status novnc.service
```

---

## STEP 6 ‚Äî TEST FINAL (REBOOT)

```bash
sudo reboot
```

Tunggu ¬±1 menit, lalu langsung buka:

```
http://IP_RASPBERRY:6080
```

üëâ **Kalau langsung muncul desktop Raspberry Pi = DONE.**

---

## OPTIONAL (TAPI SANGAT DISARANKAN)

### 1. Fix resolusi headless (tanpa monitor)

Edit:

```bash
sudo nano /boot/config.txt
```

Tambahkan:

```ini
hdmi_force_hotplug=1
hdmi_group=2
hdmi_mode=82
```

(Mode 82 = 1920√ó1080)

---

### 2. Security Basic (WAJIB kalau production)

Minimal:

* Password VNC di-set
* noVNC di LAN saja (atau VPN)
* Jangan expose langsung ke internet

---

## Checklist Akhir (biar kamu yakin)

| Item                   | Status |
| ---------------------- | ------ |
| VNC auto start         | ‚úÖ      |
| noVNC jalan otomatis   | ‚úÖ      |
| Bisa akses via browser | ‚úÖ      |
| Tidak perlu SSH manual | ‚úÖ      |
| Cocok untuk deployment | ‚úÖ      |

---

## Relevansi ke Project ECBTest kamu

Dengan setup ini:

* Raspberry Pi **plug-and-play**
* Operator tinggal buka browser
* Cocok untuk **panel maintenance**, **factory floor**, atau **embedded HMI**

Kalau kamu mau:

* **auto-launch GUI ECBTest setelah boot**
* **kiosk mode (full screen browser)**
* **login tanpa password**
* **integrasi dengan service Golang kamu**

bilang saja, kita bisa naikkan levelnya ke **industrial-grade deployment**.
